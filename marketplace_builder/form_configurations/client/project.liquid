---
name: project
resource: Transactable
configuration:
  name:
    validation: { presence: true }
  description:
    validation:
      presence: true
  properties:
    deadline:
      validation:
        presence: true
    workplace_onsite:
      validation: {}
    workplace_online:
      validation: {}
    budget:
      validation:
        presence: true
---
{% form  %}
  {% input name %}
  {% input description, as: text %}

  {% fields_for properties %}
    {% input workplace_online, as: boolean, form: properties %}
    {% input workplace_onsite, as: boolean, form: properties %}
    {% input budget, form: properties %}
    {% input deadline, form: properties, placeholder: 'YYYY-mm-dd' %}
  {% endfields_for %}

  {% fields_for offer_action %}
    {% input_field enabled, as: hidden, value: 1, form: offer_action %}
    {% fields_for pricings, form: offer_action %}
      {% input_field enabled, as: hidden, value: 1, form: pricings %}
      {% input_field transactable_type_pricing_id, as: hidden, form: pricings %}
      {% input_field price, as: hidden, form: pricings %}
    {% endfields_for %}
  {% endfields_for %}

  {% submit Save %}
{% endform %}
